---
title: "Estudo de Caso 01: Comparação do IMC médio de alunos do PPGEE-UFMG ao longo de dois semestres"
author: "Diego Pontes, Elias Vieira, Matheus Bitarães"
date: "Janeiro, 2021"
output:
    pdf_document:
    fig_caption: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Descrição do problema
...
A descrição é o seguinte

## Design do Experimento
...

## Análise Estatística
...

### Importação dos dados
Foram importados os arquivos *imc_20162.csv* e *CS01_20172.csv* para o problema
```{r, include=TRUE, echo=TRUE}

# importação dos dados
raw_data_2016 <- read.csv(file = 'imc_20162.csv')
raw_data_2017 <- read.csv(file = 'CS01_20172.csv', sep=';')

head(raw_data_2016)
head(raw_data_2017)
```
Podemos observar que os arquivos possuem algumas diferenças estruturais. Alguns nomes de colunas estão diferentes e o arquivo de 2016 contém dados de alunos de fora do PPGEE. Estes dados devem portanto ser tratados para que fiquem similares.

```{r, include=TRUE}

# Filtra dados apenas de estudantes do ppgee (necessario apenas em 2016)
raw_data_2016 <- subset(raw_data_2016, Course=="PPGEE")

# renomeia coluna de 2016
names(raw_data_2016)[names(raw_data_2016) == "Gender"] <- "Sex"

# renomeia coluna de 2017
names(raw_data_2017)[names(raw_data_2017) == "height.m"] <- "Height.m"
```

Agora devemos criar uma nova coluna com o calculo do IMC e separar os dados entre masculino e feminino
```{r, include=TRUE}

# cria coluna com calculo do IMC
raw_data_2016$IMC = raw_data_2016$Weight.kg * (raw_data_2016$Height.m * raw_data_2016$Height.m)
raw_data_2017$IMC = raw_data_2017$Weight.kg * (raw_data_2017$Height.m * raw_data_2017$Height.m)

# separa entre masculino e feminino e armazena apenas o IMC
imc_m_2016 <- subset(raw_data_2016, Sex=="M")$IMC
imc_f_2016 <- subset(raw_data_2016, Sex=="F")$IMC
imc_m_2017 <- subset(raw_data_2017, Sex=="M")$IMC
imc_f_2017 <- subset(raw_data_2017, Sex=="F")$IMC
```


### Informação dos dados
Após amostras estarem tratadas e o imc calculado, seguem alguns dados estatisticos
```{r, include=TRUE}
# imprime um sumario com as principais informações estatisticas dos IMCs
summary(imc_m_2016)
summary(imc_m_2017)
summary(imc_f_2016)
summary(imc_f_2017)

# boxplot
boxplot(imc_m_2016, imc_m_2017, imc_f_2016, imc_f_2017,
main = "Boxplots dos IMCs",
at = c(1,2,4,5),
names = c("2016(M)", "2017(M)", "2016(F)", "2017(F)"),
las = 2,
col = c("orange","orange", "red", "red"),
horizontal = TRUE,
notch = FALSE
)
```

**obs: tem muito pouca amostra feminina. Acredito que precisamos falar sobre o impacto disso nas analises** 

Agora precisa verificar se amostras podem ser analisadas como distribuições normais (teste de Shapiro-Wilk)
```{r, include=TRUE}
# teste de shapiro-wilk. Se o p-valor < 0.05, não podemos assumir que as amostras apresentam normalidade
shapiro.test(imc_m_2016)
shapiro.test(imc_m_2017)
shapiro.test(imc_f_2016)
shapiro.test(imc_f_2017)
```


depois, caso sim, pode-se realizar o teste t:
```{r, include=TRUE}
# teste t de student
t.test(imc_m_2016, imc_m_2017, "two.sided", mu=0, conf.level = 0.95)
t.test(imc_f_2016, imc_f_2017, "two.sided", mu=0, conf.level = 0.95)
```

### Discussão e Conclusão
...

### Atividades dos membros
...

### Referencias


