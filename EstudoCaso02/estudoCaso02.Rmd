---
title: "Estudo de Caso 02: Avaliação e comparação do retorno médio de ações"
author: "Diego Pontes, Elias Vieira, Matheus Bitarães"
date: "Fevereiro, 2021"
output:
    pdf_document:
    fig_caption: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, include=FALSE}

# Importação das bibliotecas (descomentar caso não tenha instalado)
# install.packages("ggplot2")

# Importação de bibliotecas
library(ggplot2)
library(dplyr)

```

## Descrição do problema


## Introdução


## Design do Experimento

Os dados de entrada do experimento são as informações de preços de fechamento mensais de 5 ações diferentes, onde cada coluna representa uma ação e cada linha representa um mes de fechamento. 
O que se deseja é comparar o potencial de cada ação em gerar maior ganho mensal ao investidor. Como modelos regressivos de previsão não são o escopo deste trabalho, pode-se realizar uma transformação nestes dados, de forma que haja um vetor com as flutuações percentuais das ações em cada mês. Por exemplo, se houver uma ação com preços de fechamento $[10, 11, 12, 10]$, pode-se gerar o seguinte vetor de flutuações percentuais: $[10\%, 9\%, -16\%]$.

Desta forma, é possivel realizar uma análise estatistica entre as 5 ações e identificar a que apresenta maior incidencia de flutuação positiva, o que será considerado como a ação de maior potencial para gerar retornos.

## Análise Estatística


### Importação dos dados

Os dados das ações foram importados do arquivo *DadosAcoesGrupoC.csv*. 

```{r, include=TRUE, echo=TRUE}

# importação dos dados
data <- read.csv(file = 'DadosAcoesGrupoC.csv', header = FALSE)
colnames(data) <- c("A1","A2","A3","A4","A5") # Adicionando nomes às colunas

# plot dos primeiros 6 dados da tabela
head(data)
```


Cada coluna representa uma ação e cada linha representa o preço de fechamento das ações no mes anterior. Portanto, a linha 1 indica o preço de fechamento do mes atual - 1, a linha 2 representa o mes atual - 2, e assim sucessivamente.

**[matheus] preciso melhorar o grafico abaixo. Ainda nao consegui colocar ele mais bonito**

```{r, include=TRUE, echo=TRUE}
theme_set(theme_minimal())

# Plot
plt <- ggplot(data=data, aes(x=1:36, y=A1)) + 
   geom_line(aes(y = A1), color = "darkred") +
   geom_line(aes(y = A2), color = "steelblue") + 
   geom_line(aes(y = A3), color = "red") + 
   geom_line(aes(y = A4), color = "black") +  
   geom_line(aes(y = A5), color = "green") +
   theme(legend.position="bottom") +
   labs(title = "Progressão das Ações", x = "Tempo (meses)", y = "Preço de fechamento das ações")

plt
```

### Tratamento  dos dados

Os dados brutos serão transformados em flutuações percentuais para que se possa realizar a análise estatística.
```{r, include=TRUE, echo=TRUE}

# Transforma dados em porcentagens
data_perc <- data
for(i in 1:(nrow(data)-1)){
        data_perc[i,] <- 100*( (data[i+1,] - data[i,])/data[i+1,] ) # porcentagem de mudança do fechamento do mes i + 1 em relação ao mes i.
}

data_perc <- data_perc[-c(36), ] # removendo ultima linha

# Criando uma variável para cada amostra
data_a1 <- data_perc$A1
data_a2 <- data_perc$A2
data_a3 <- data_perc$A3
data_a4 <- data_perc$A4
data_a5 <- data_perc$A5
```

**algum comentario aqui**

```{r, include=TRUE}
# boxplot
boxplot(data_a1, data_a2, data_a3, data_a4, data_a5,
main = "Boxplots das flutuações percentuais",
at = c(1,2,3,4,5),
names = c("Ação 1", "Ação 2", "Ação 3", "Ação 4", "Ação 5"),
las = 2,
horizontal = TRUE,
notch = FALSE
)
```
**algum comentario sobre o boxplot**

### Dados estatísticos

**comparação entre as ações aqui**

## Discussão e Conclusão


### Atividades dos membros

**Diego**


**Elias**


**Matheus**


**Todos**

Elaboração das hipóteses e definição das premissas.


\renewcommand\refname{Referências Bibliográficas}
\bibliographystyle{unsrt}
\bibliography{referencias}
